<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SSC CGL TIER I 2025 — Mock (All Qs 1–100)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --blue:#153d7a;--accent:#1f4d8a;--green:#28a745;--red:#d9534f;--marked:#7b3fb0;--muted:#6b7280;
      --card:#ffffff;--bg:#f3f6fb;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:#17202a}
    .topbar{background:linear-gradient(90deg,var(--blue),#2b62b0);color:#fff;padding:12px 18px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:8px;background:#fff;color:var(--blue);display:flex;align-items:center;justify-content:center;font-weight:900}
    .controls{display:flex;gap:10px;align-items:center}
    .btn{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer;font-weight:700}
    .btn.ghost{background:#fff;color:var(--accent);border:1px solid #dfe7f3}
    .timer{font-weight:800;background:#ffdede;color:#b30000;padding:6px 10px;border-radius:6px}
    .layout{display:flex;gap:16px;padding:16px;height:calc(100vh - 72px);align-items:flex-start}
    .left{width:300px;background:var(--card);border-radius:10px;padding:14px;box-shadow:0 6px 18px rgba(16,24,40,0.06);display:flex;flex-direction:column;gap:12px;overflow:auto}
    .sections{display:flex;flex-direction:column;gap:8px}
    .section-btn{background:var(--accent);color:#fff;border:0;padding:8px;border-radius:6px;text-align:left;cursor:pointer;font-weight:800}
    .section-btn.active{background:var(--green)}
    .qgrid{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .qnum{width:40px;height:38px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:800;background:var(--accent);color:#fff;cursor:pointer;border:0}
    .qnum.answered{background:var(--green)}
    .qnum.skipped{background:var(--red)}
    .qnum.marked{background:var(--marked)}
    .summary{margin-top:auto;background:#f6f9ff;padding:10px;border-radius:8px;color:var(--muted);font-weight:700}
    .main{flex:1;display:flex;flex-direction:column;height:100%}
    .controls-row{background:var(--card);padding:12px;border-radius:10px;display:flex;gap:8px;align-items:center;box-shadow:0 6px 18px rgba(16,24,40,0.04)}
    .qcard{flex:1;background:var(--card);margin-top:12px;border-radius:10px;padding:18px;box-shadow:0 6px 18px rgba(16,24,40,0.04);overflow:auto}
    .qheader{font-weight:800;margin-bottom:12px}
    .qtext{font-size:16px;line-height:1.7}
    .options{margin-top:12px;display:flex;flex-direction:column;gap:10px}
    .opt{border:1px solid #e8eef8;padding:12px;border-radius:8px;display:flex;gap:10px;align-items:center;cursor:pointer}
    .opt.correct{border-color:#63c276;background:#ecffef}
    .opt.wrong{background:#fff0f0;border-color:#f5b4b4}
    .opt input{transform:scale(1.1);margin-right:10px}
    .footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding:10px 4px}
    .small{color:var(--muted);font-weight:700}
    .results{padding:20px;background:#fff;border-radius:10px;box-shadow:0 8px 24px rgba(16,24,40,0.06)}
    table{border-collapse:collapse;width:100%}
    th,td{border:1px solid #e9eef8;padding:10px;text-align:left}
    .top-controls {display:flex;gap:8px;align-items:center}
    @media(max-width:980px){.layout{flex-direction:column;height:auto}.left{width:100%;display:flex;order:2}.main{order:1}}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="brand">
      <div class="logo">SSC</div>
      <div>
        <h1 id="examTitle">SSC CGL TIER I 2025 — 12 Sep Shift 1</h1>
        <div style="font-size:12px;color:rgba(255,255,255,0.9)">Mock — Single question view</div>
      </div>
    </div>

    <div class="controls">
      <div class="top-controls">
        <button id="openExamBtn" class="btn">Start Exam (Open new window)</button>
        <button id="pasteKeyBtn" class="btn ghost" title="Paste JSON answer key (e.g. {\"1\":\"C\",\"2\":\"B\"})">Paste Answer Key</button>
        <button id="fullscreenBtn" class="btn ghost" title="Toggle full screen">Full Screen</button>
      </div>
    </div>
  </div>

  <!-- Landing area: brief instructions -->
  <div style="padding:18px;background:#fff;margin:12px;border-radius:10px;box-shadow:0 6px 18px rgba(16,24,40,0.04)">
    <strong>How to use</strong>
    <ul>
      <li>Click <strong>Start Exam</strong> — the real exam UI opens in a new window and timer starts there.</li>
      <li>If you want automatic marking, click <strong>Paste Answer Key</strong> and paste JSON mapping Q-number to option letter (A/B/C/D) before submitting.</li>
      <li>Full screen / exit full screen works inside the exam window (top-right).</li>
    </ul>
  </div>

<script>
/* ---------- DATA (questions 1-100) ---------- */
/* For brevity and clarity the same QUESTIONS structure is used inside the popup window.
   We'll open a new window and write a full exam page into it. */

const ALL_QUESTIONS = {
  "Reasoning":[
    {"id":1,"q":"Watt : Power :: Pascal : ?","options":["A. Energy","B. Temperature","C. Pressure","D. Force"]},
    {"id":2,"q":"Mekong : Tibet :: Amazon : ?","options":["A. Chile","B. Peru","C. Colombia","D. Ecuador"]},
    {"id":3,"q":"CGK, GKO, KOS, OSW, ? — choose cluster.","options":["A. SDA","B. KNB","C. SWA","D. KJH"]},
    {"id":4,"q":"MIN, NJM, OKL, PLK, ? — choose cluster.","options":["A. QWS","B. HGF","C. QMJ","D. UJH"]},
    {"id":5,"q":"BRF, EUH, HXJ, KAL, ? — choose cluster.","options":["A. NMB","B. NKH","C. NHG","D. NDN"]},
    {"id":6,"q":"WZWT, WVOH, WRGV, WNYJ, ? — choose cluster.","options":["A. WJQX","B. WJQW","C. WHPX","D. WIPX"]},
    {"id":7,"q":"MCFI, NEKP, OGPW, PIUD, ? — choose cluster.","options":["A. NKYD","B. QLYL","C. QKZK","D. QKZL"]},
    {"id":8,"q":"Sequence: 3,12,7,16,11,20,15, ?","options":["A. 16","B. 24","C. 14","D. 18"]},
    {"id":9,"q":"Letters of STUDENT arranged alphabetically → how many letters between second from left and fourth from right?","options":["A. 17","B. 13","C. 11","D. 15"]},
    {"id":10,"q":"Which addresses are identical? (Four addresses given earlier)","options":["A. 1 and 2","B. 2 and 3","C. 1 and 3","D. All identical"]},
    {"id":11,"q":"Which addresses identical to given Meenal Gupta address?","options":["A. 1 only","B. 1 and 2","C. 1 and 3","D. 1,2 and 3"]},
    {"id":12,"q":"AG : 10 :: CM : ?","options":["A. KO","B. KU","C. KS","D. S"]},
    {"id":13,"q":"A facing North. B is second to right of A. Who is immediately left of B?","options":["A. Person right of A","B. Opposite A","C. Person left of A","D. Cannot be determined"]},
    {"id":14,"q":"TIME : VJOG :: WORD : ?","options":["A. YPTF","B. YQTG","C. YPSF","D. ZPSF"]},
    {"id":15,"q":"GNIDAER : READING :: NOITULOS : ?","options":["A. SOLUTION","B. SOLUNOIT","C. NOILOSUT","D. POLLUTION"]},
    {"id":16,"q":"AYRRIC : CATTLE :: NCPDCAR : ?","options":["A. SUBJECTS","B. NEGLECT","C. PERFECT","D. OPERATE"]},
    {"id":17,"q":"Odd one: 2,3,5,7,11,13,17,20","options":["A. 17","B. 13","C. 20","D. 1"]},
    {"id":18,"q":"Which triplet is odd?","options":["A. 2,3,5","B. 11,13,17","C. 4,6,8","D. 7,19,23"]},
    {"id":19,"q":"Rani said 'Man is my mother's son-in-law'. Who is the man?","options":["A. Husband","B. Father","C. Uncle","D. Cousin"]},
    {"id":20,"q":"Find group not following pattern (symbol-number combos).","options":["A. A","B. B","C. C","D. D"]},
    {"id":21,"q":"Find group not following pattern (A1@ etc.).","options":["A. A","B. B","C. C","D. D"]},
    {"id":22,"q":"Pointing to a man: \"His mother is only daughter of my father\" → relation?","options":["A. Son","B. Nephew","C. Cousin","D. Grandson"]},
    {"id":23,"q":"Pointing to woman: \"She is wife of my uncle's only son\" → relation to John?","options":["A. Cousin","B. Sister-in-law","C. Niece","D. Aunt"]},
    {"id":24,"q":"\"My mother's husband's only son is father of your sister's brother.\" → relation?","options":["A. Uncle","B. Father","C. Grandfather","D. Brother"]},
    {"id":25,"q":"If # = ×, @ = –, $ = + then: 9 # 2 @ 3 $ 1 = ?","options":["A. 18","B. 14","C. 16","D. 17"]}
  ],
  "General Awareness":[
    {"id":26,"q":"Which feature distinguishes Elephanta Caves from other early rock-cut sites?","options":["A. Buddhist caves with stupas","B. Shaivite themes and sculptural depth via light/shadow","C. Mix of Jain and Vaishnavite depictions","D. Entirely monolithic Mauryan structures"]},
    {"id":27,"q":"Goncha Festival: which statements correct? (see prompt)","options":["A. 1 and 2 only","B. 2 and 3 only","C. 1 and 3 only","D. 1,2 and 3"]},
    {"id":28,"q":"In Carnatic music, a laghu with five beats is known as ___ jaati.","options":["A. Tishra","B. Chaturashra","C. Khanda","D. Mishra"]},
    {"id":29,"q":"Which statement about Judo is correct?","options":["A. Introduced in 1882 by Jigoro Kano","B. India's first national championship held 1970","C. Kalpana Devi won 2010 World Cup gold","D. Judo became Olympic sport in 1965"]},
    {"id":30,"q":"Where/when will 59th National Cross Country Championships 2025 be held?","options":["A. 10 Jan 2025 – Lucknow","B. 12 Jan 2025 – Meerut","C. 15 Jan 2025 – Kanpur","D. 12 Jan 2025 – Jaipur"]},
    {"id":31,"q":"Core focus of 2024 India-UAE BIT?","options":["A. Joint sovereign funds & INR swap","B. Pre-establishment rights & UAE arbitration","C. Post-establishment investor confidence via standard & national treatment","D. GCC-wide tax regulation under India-led digital framework"]},
    {"id":32,"q":"Santosh Trophy 2022-23 final was uniquely held in ___ where Karnataka defeated Meghalaya.","options":["A. Dubai","B. Riyadh","C. Doha","D. Muscat"]},
    {"id":33,"q":"Which best describes 'Landscapes of Loss' by Kavitha Iyer?","options":["A. Study of drought human/ecological impacts","B. Fictional family story in drought-hit area","C. History of monsoon and ancient agriculture","D. Colonial-era water policy analysis"]},
    {"id":34,"q":"Glacial landforms: which statements are correct?","options":["A. Only 1","B. Only 2","C. 1 and 2","D. Neither"]},
    {"id":35,"q":"Primary function of Crew Escape System on ISRO HLVM3?","options":["A. Guide crew to LEO","B. Eject crew module to safety during launch emergencies","C. Help docking","D. Thermal shielding on re-entry"]},
    {"id":36,"q":"Statements about Justice Sanjiv Khanna: which true?","options":["A. 1 and 2 only","B. 2 and 3 only","C. 1 and 3 only","D. 1,2 and 3 all true"]},
    {"id":37,"q":"Objectives part of NPP 2000?","options":["A. Only 1 and 2","B. Only 1 and 3","C. 1,3 and 4","D. 1,2,3,4 all correct"]},
    {"id":38,"q":"Which pathway generates most ATP in cellular respiration?","options":["A. Glycolysis","B. Krebs cycle","C. Electron transport chain","D. Fermentation"]},
    {"id":39,"q":"Arrange chronological order: a) Eastern Zonal Council 2022 b) States Reorganisation Act c) First Central Zonal Council meeting","options":["A. b-c-a","B. c-b-a","C. a-b-c","D. b-a-c"]},
    {"id":40,"q":"Legal character of right to property under Article 300A?","options":["A. Fundamental right guaranteeing compensation","B. State may deprive by any law even without due process","C. Constitutional/legal right permitting deprivation only by authority of law","D. Citizens can claim property protection under Article 32"]},
    {"id":41,"q":"For a rigid body, angular velocity of any particle about given axis is:","options":["A. Proportional to distance","B. Same for all particles","C. Inversely proportional","D. Always zero"]},
    {"id":42,"q":"Bharatiya Sakshya Adhiniyam emphasizes tech authenticity — especially relevant to:","options":["A. Physical exhibits","B. Hand-written diaries","C. Digital/electronic evidence","D. Oral confessions"]},
    {"id":43,"q":"Assertion/Reason: One Nation One Ration Card portability — uses Aadhaar biometric. Choose relation.","options":["A. Both true and R explains A","B. Both true but R not explanation","C. A true, R false","D. A false, R true"]},
    {"id":44,"q":"Cheraw bamboo dance is folk dance of which state?","options":["A. Mizoram","B. Meghalaya","C. Arunachal Pradesh","D. Sikkim"]},
    {"id":45,"q":"Key factor assessed in Global Firepower 2025 ranking?","options":["A. Economic stability","B. Cultural influence","C. Defence budget","D. Healthcare spending"]},
    {"id":46,"q":"Which describes cooperative-sector industries?","options":["A. Owned/operated by central government","B. Operated solely for export","C. Owned by workers/suppliers sharing profits and losses","D. Maintained by foreign companies with Indian partnerships"]},
    {"id":47,"q":"Education placed under which list after 42nd Amendment?","options":["A. Union List","B. State List","C. Concurrent List","D. Judicial List"]},
    {"id":48,"q":"Main objective of NFCS (launched 2024)?","options":["A. Set emission trading targets","B. Regulate groundwater quality","C. Deliver sector-specific climate information services","D. Mandate carbon offsetting"]},
    {"id":49,"q":"Argon produced in Earth’s crust via?","options":["A. Decay of K-40","B. Volcanoes","C. Photosynthesis","D. Cosmic rays"]},
    {"id":50,"q":"Which is true about Fundamental Rights and DPSPs?","options":["A. Both justiciable & enforceable","B. DPSPs override Fundamental Rights","C. Fundamental Rights justiciable, DPSPs not","D. DPSPs guaranteed; FR optional"]}
  ],
  "Quantitative Aptitude":[
    {"id":51,"q":"Arrange fractions 3/4,2/5,5/7,3/5 in ascending order.","options":["A. 2/5,3/5,3/4,5/7","B. 2/5,3/5,5/7,3/4","C. 3/5,2/5,5/7,3/4","D. 2/5,5/7,3/5,3/4"]},
    {"id":52,"q":"Simplify: (26+3.6)-1.9","options":["A. 27.7","B. 27.9","C. 28.7","D. 27.1"]},
    {"id":53,"q":"Evaluate: 71 - 6 + (1 - (3×3 - 6))","options":["A. 64","B. 66","C. 68","D. 62"]},
    {"id":54,"q":"In sample: Python&Java=50, Python only=70, Java only=60, Neither=20. Ratio Python:Java?","options":["A. 11:12","B. 12:11","C. 7:6","D. 6:7"]},
    {"id":55,"q":"Partner profit sharing Q (investments 80k,120k,160k at different times) — find Chandan share.","options":["A. ₹26,250","B. ₹21,000","C. ₹31,500","D. ₹17,500"]},
    {"id":56,"q":"A invests 80k for 9 months, B 120k for 6 months. Profit ₹45,000. B’s share?","options":["A. ₹20,000","B. ₹25,000","C. ₹27,000","D. ₹30,000"]},
    {"id":57,"q":"Average of integers between 100 and 250 divisible by 11?","options":["A. 176","B. 186","C. 196","D. 166"]},
    {"id":58,"q":"Complex average question; find average of 13th & 14th numbers.","options":["A. 75","B. 76","C. 77","D. 78"]},
    {"id":59,"q":"Flat bought ₹8,00,000; maintenance ₹2,000/month; wants 9% annual return after maintenance — monthly rent?","options":["A. ₹7,000","B. ₹7,500","C. ₹8,000","D. ₹8,500"]},
    {"id":60,"q":"Amount doubles in 5 years. Time to become 8×?","options":["A. 15","B. 16","C. 17","D. 18"]},
    {"id":61,"q":"Sum becomes 6600 in 2 years and 7920 in 3 years at compound interest. Principal?","options":["A. ₹5,583.33","B. ₹6,000","C. ₹5,000","D. ₹6,500"]},
    {"id":62,"q":"25L @45 +15L @50 sold at 48/L — profit or loss?","options":["A. Profit ₹90","B. Loss ₹45","C. Profit ₹45","D. Loss ₹90"]},
    {"id":63,"q":"Toy cars distribution profit/loss percent (donation+discount+freebies) — options.","options":["A. 4% profit","B. 4% loss","C. 5% profit","D. 5% loss"]},
    {"id":64,"q":"AC marked 80% above cost then 25% then 10% discount; final SP ₹15,552. Cost approx?","options":["A. ₹79,000","B. ₹79,200","C. ₹71,200","D. ₹71,000"]},
    {"id":65,"q":"40L mixture 5:3 juice:water — how much water to add to make 2:3?","options":["A. 5L","B. 10L","C. 15L","D. 25L"]},
    {"id":66,"q":"A completes 15 days, B 20 days. After working together 4 days, fraction left?","options":["A. 2/15","B. 1/6","C. 3/10","D. 1/5"]},
    {"id":67,"q":"Two oils ₹90 & ₹150 blended sold at ₹144 with 20% profit — ratio of oils?","options":["A. 1:2","B. 2:1","C. 3:5","D. 5:3"]},
    {"id":68,"q":"Three pipes 6,8,12 hrs; all for 2hrs then C closed; extra time to fill?","options":["A. 2 hrs","B. 2.5 hrs","C. 3 hrs","D. 4 hrs"]},
    {"id":69,"q":"Bullet train distance up 20% — new avg speed to keep same time?","options":["A. 280","B. 288","C. 300","D. 320"]},
    {"id":70,"q":"Two cars 360 km apart — meet in 4hrs towards each other; same direction meet in 12hrs; speed of X?","options":["A. 60","B. 75","C. 90","D. 45"]},
    {"id":71,"q":"Pizza radius 21cm; 75% eaten — area remaining? (π=22/7)","options":["A. 173.25","B. 346.36","C. 432.25","D. 115.5"]},
    {"id":72,"q":"Ring outer r=10 inner r=7 — ratio of ring area to outer circle area?","options":["A. 1:2","B. 2:3","C. 3:4","D. 4:5"]},
    {"id":73,"q":"Wheel radius 35cm — percent of circumference in quarter turn?","options":["A. 15%","B. 25%","C. 30%","D. 35%"]},
    {"id":74,"q":"Line y = m x + 5 passes (1,8). Find m.","options":["A. 3","B. 2","C. 5","D. -3"]},
    {"id":75,"q":"313 + 183 - 373 + 210 = ?","options":["A. -368","B. -148","C. -456","D. -234"]}
  ],
  "English Comprehension":[
    {"id":76,"q":"Synonym of PERFIDIOUS","options":["A. Honest","B. Faithful","C. Treacherous","D. Loyal"]},
    {"id":77,"q":"Meaning of 'Hobson's Choice'","options":["A. Dilemma between two evils","B. Free and fair decision","C. No real choice at all","D. Selection under duress"]},
    {"id":78,"q":"Antonym of Perfidious","options":["A. Betraying","B. Faithless","C. Treacherous","D. Loyal"]},
    {"id":79,"q":"Identify misspelt word","options":["A. Vicereine","B. Floccinaucinihilipilification","C. Defenestrate","D. Quintessance"]},
    {"id":80,"q":"Correct spelling of CSF-shunt procedure","options":["A. Ventriculoperitoneal","B. Ventriculoperitonal","C. Ventriculaperitoneal","D. Ventriculoperetoneal"]},
    {"id":81,"q":"One-word substitute 'An official reprimand or strong criticism'","options":["A. Accusation","B. Denunciation","C. Censure","D. Indictment"]},
    {"id":82,"q":"The startup scaled so rapidly that its infrastructure could ___ keep pace.","options":["A. Barely","B. Merely","C. Scarcely","D. All but"]},
    {"id":83,"q":"Phrase: it can occur ___ prolonged drought conditions.","options":["A. Towards","B. Amid","C. Among","D. During"]},
    {"id":84,"q":"While the proposal appeared pragmatic on paper, its implementation proved ___ complicated.","options":["A. Less","B. Much","C. Rather","D. More"]},
    {"id":85,"q":"Find error part in sentence about report failed to address root causes.","options":["A. (1)","B. (2)","C. (3)","D. (4)"]},
    {"id":86,"q":"Find error part in sentence about draft legislation contentious.","options":["A. (1)","B. (2)","C. (3)","D. (4)"]},
    {"id":87,"q":"Change to passive: They have been neglecting maintenance of the archives for years.","options":["A. Maintenance had been neglected by them for years.","B. Maintenance is being neglected by them for years.","C. Maintenance was being neglected by them for years.","D. Maintenance has been being neglected by them for years."]},
    {"id":88,"q":"Which sentence contains homonym of the highlighted word introit?","options":["A. The child sang the introit during the intermission.","B. The introit was replaced by an organ improvisation.","C. The missal included Latin text for the introit.","D. The cantor rehearsed the Sunday introit."]},
    {"id":89,"q":"Convert passive to active: It was being suggested by multiple sources that the operation had been compromised internally.","options":["A. Multiple sources suggested the operation was compromised internally.","B. The operation was compromised, multiple sources suggested.","C. Sources were suggesting an operation compromise.","D. The operation had compromised multiple internal sources."]},
    {"id":90,"q":"Comprehension passage given earlier — Q: According to passage, how is wisdom primarily acquired?","options":["A. Through textbooks","B. Through emotional detachment","C. Through experience and reflection","D. Through algorithmic thinking"]},
    {"id":91,"q":"What does 'wisdom enriches the soul' mean?","options":["A. Enhances academic success","B. Fosters deeper moral insight","C. Improves verbal expression","D. Sharpens math skills"]},
    {"id":92,"q":"Who can be wise despite lacking formal education?","options":["A. Scientists","B. School children","C. Elders and artisans","D. Technocrats"]},
    {"id":93,"q":"Central contrast in passage?","options":["A. Education vs career","B. Intelligence vs memory","C. Reading vs writing","D. Formal learning vs applied wisdom"]},
    {"id":94,"q":"Why has gap between education and wisdom widened?","options":["A. Due to social media","B. Because wisdom not valued","C. Rote learning & algorithmic methods","D. People stop learning after school"]},
    {"id":95,"q":"Replace: 'She has the reputation to be a kind woman.'","options":["A. To have kindness","B. Of being a kind woman","C. Of being the kind woman","D. To be kind-hearted"]},
    {"id":96,"q":"Replace: 'The doctor advised him to avoid eating sweets and doing exercise regularly.'","options":["A. Avoiding sweets and doing regular exercise","B. To avoid sweets and to exercise regularly","C. To avoid eating sweets and to exercise regularly","D. To not eat sweets and do exercises"]},
    {"id":97,"q":"Indirect speech: He asked me, 'Have you done your homework?'", "options":["A. He asked me if I had done my homework.","B. He asked me have I done my homework.","C. He asked me whether I have done my homework.","D. He asked me whether had I done my homework."]},
    {"id":98,"q":"Direct speech: He said that he would join the meeting after lunch.","options":["A. \"I will join the meeting after lunch,\" he said.","B. \"I would join the meeting after lunch,\" he said.","C. \"I shall join the meeting after lunch,\" he said.","D. \"I can join the meeting after lunch,\" he said."]},
    {"id":99,"q":"Arrange sentences to form logical passage (media strategy example).","options":["A. 3-2-4-1","B. 2-3-1-4","C. 3-1-4-2","D. 4-1-2-3"]},
    {"id":100,"q":"Arrange sentences to form coherent paragraph (research example).","options":["A. 2,1,3,4","B. 1,2,4,3","C. 4,3,2,1","D. 3,4,1,2"]}
  ]
};

/* ---------- EXAM WINDOW: We'll open a new window and write a full page that runs the exam UI there ---------- */

function openExamWindow(){
  const w = window.open('', '_blank', 'width=1100,height=800,scrollbars=yes');
  if(!w){
    alert('Popup blocked. Allow popups for this site or open the page in a new tab manually.');
    return;
  }

  const html = buildExamWindowHTML();
  w.document.open();
  w.document.write(html);
  w.document.close();
}

/* Build the full exam window HTML string (self-contained) */
function buildExamWindowHTML(){
  // We'll embed a compact version of the UI and the ALL_QUESTIONS data + interactive code.
  // For readability the string is built with backticks.
  return `
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>SSC CGL Mock — Exam Window</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  :root{--blue:#153d7a;--accent:#1f4d8a;--green:#28a745;--red:#d9534f;--muted:#6b7280;--bg:#f3f6fb}
  body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:#17202a}
  .topbar{background:linear-gradient(90deg,var(--blue),#2b62b0);color:#fff;padding:10px 14px;display:flex;align-items:center;justify-content:space-between}
  .left{width:260px;background:#fff;padding:12px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06);overflow:auto;height:calc(100vh - 72px)}
  .layout{display:flex;gap:12px;padding:12px}
  .main{flex:1;background:#fff;padding:12px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06);height:calc(100vh - 72px);overflow:auto}
  .qnum{width:36px;height:36px;border-radius:6px;background:#eef4ff;border:1px solid #dbeafc;display:inline-flex;align-items:center;justify-content:center;margin:4px;cursor:pointer;font-weight:700}
  .qnum.answered{background:var(--green);color:#fff}
  .qnum.skipped{background:var(--red);color:#fff}
  .qnum.marked{background:#7b3fb0;color:#fff}
  .qheader{font-weight:800;margin-bottom:8px}
  .options{display:flex;flex-direction:column;gap:8px;margin-top:12px}
  .opt{border:1px solid #e6eef8;padding:10px;border-radius:8px;display:flex;align-items:center;gap:10px;cursor:pointer}
  .opt.correct{border-color:#63c276;background:#ecffef}
  .opt.wrong{background:#fff0f0;border-color:#f5b4b4}
  .controls{display:flex;gap:8px;margin-top:10px}
  .btn{background:#1f4d8a;color:#fff;border:0;padding:8px 10px;border-radius:6px;cursor:pointer}
  .btn.ghost{background:#fff;color:#1f4d8a;border:1px solid #dfe7f3}
  .timer{font-weight:900;background:#fff;padding:6px 10px;border-radius:6px;color:#b30000;border:2px solid #ffdede}
  table{border-collapse:collapse;width:100%}
  th,td{border:1px solid #e9eef8;padding:8px;text-align:left}
  #resultsArea{display:none;padding:12px}
  @media(max-width:900px){.layout{flex-direction:column}.left{width:100%;height:auto}}
</style>
</head>
<body>

  <div class="topbar">
    <div style="display:flex;align-items:center;gap:12px">
      <div style="background:#fff;padding:6px;border-radius:6px;color:var(--blue);font-weight:900">SSC</div>
      <div>
        <div style="font-weight:800">SSC CGL TIER I 2025 — 12 Sep Shift 1</div>
        <div style="font-size:12px;opacity:0.9">Mock — duration: 60 minutes</div>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:10px">
      <div id="fullscreenToggle" class="btn ghost">Enter Full Screen</div>
      <div class="timer" id="timerBox">60:00</div>
      <div id="submitBtn" class="btn">Submit</div>
    </div>
  </div>

  <div class="layout">
    <div class="left" id="leftPanel">
      <div style="font-weight:800;margin-bottom:8px">Sections</div>
      <div id="sectionBtns"></div>

      <hr style="margin:10px 0">
      <div style="font-weight:800">Question Panel</div>
      <div id="qGrid" style="margin-top:8px"></div>

      <div style="margin-top:12px;font-weight:800">Legend</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:6px">
        <div style="background:var(--green);color:#fff;padding:6px;border-radius:6px">Answered</div>
        <div style="background:var(--red);color:#fff;padding:6px;border-radius:6px">Not Answered</div>
        <div style="background:#7b3fb0;color:#fff;padding:6px;border-radius:6px">Marked</div>
      </div>

      <div style="margin-top:12px">
        <div>Answered: <span id="leftAnswered">0</span></div>
        <div>Not Answered: <span id="leftNotAnswered">0</span></div>
      </div>
    </div>

    <div class="main" id="main">
      <div class="qheader" id="qHeader"></div>
      <div id="qText" style="white-space:pre-wrap"></div>

      <div class="options" id="options"></div>

      <div class="controls">
        <div>
          <button id="prev" class="btn ghost">Previous</button>
          <button id="saveNext" class="btn">Save & Next</button>
          <button id="mark" class="btn ghost">Mark for Review</button>
          <button id="clear" class="btn ghost">Clear Response</button>
        </div>
        <div style="margin-left:auto">
          <button id="pasteKey" class="btn ghost">Paste Answer Key</button>
          <button id="reviewModeBtn" class="btn ghost">Review Answers</button>
        </div>
      </div>

      <div id="resultsArea"></div>
    </div>
  </div>

<script>
  /******************** data copied from opener window ********************/
  const QUESTIONS = ${JSON.stringify(ALL_QUESTIONS)};
  /******************** state ********************/
  const state = {
    sections: Object.keys(QUESTIONS),
    currentSectionIdx: 0,
    indexInSection: 0,
    answers: {},        // key = "sec-id" => optionLetter (A/B/C/D) or full option text
    marked: {},
    skipped: {},
    timer: 60*60,
    timerInt: null,
    answerKey: {}   // questionNumber -> "A"/"B"/"C"/"D" if provided by user
  };

  const el = id => document.getElementById(id);

  function init(){
    buildSections();
    buildGrid();
    renderQuestion();
    startTimer();
    attachHandlers();
    updateCounts();
  }

  function buildSections(){
    const wrap = el('sectionBtns'); wrap.innerHTML='';
    state.sections.forEach((s, idx)=>{
      const d = document.createElement('div');
      d.className = 'section-btn';
      d.style.marginBottom='8px';
      d.innerHTML = '<button style="width:100%;padding:8px;border-radius:6px;border:0;background:#eaf3ff;color:#103d73;font-weight:800;cursor:pointer">'+s+'</button>';
      d.onclick = ()=>{ state.currentSectionIdx = idx; state.indexInSection = 0; renderQuestion(); buildGrid(); updateCounts(); };
      wrap.appendChild(d);
    });
  }

  function buildGrid(){
    const grid = el('qGrid'); grid.innerHTML='';
    const sec = state.sections[state.currentSectionIdx];
    const list = QUESTIONS[sec];
    list.forEach((q, i)=>{
      const btn = document.createElement('div');
      btn.className='qnum';
      const key = sec+'-'+q.id;
      if(state.marked[key]) btn.classList.add('marked');
      else if(state.answers[key]) btn.classList.add('answered');
      else if(state.skipped[key]) btn.classList.add('skipped');
      btn.innerText = i+1;
      btn.onclick = ()=>{ state.indexInSection = i; renderQuestion(); };
      grid.appendChild(btn);
    });
    updateCounts();
  }

  function updateCounts(){
    // left counts
    const sec = state.sections[state.currentSectionIdx];
    const list = QUESTIONS[sec];
    const answered = list.reduce((a,q)=> a + (state.answers[sec+'-'+q.id] ? 1 : 0), 0);
    el('leftAnswered').innerText = answered;
    el('leftNotAnswered').innerText = list.length - answered;

    // global answered
    const totalAnswered = Object.keys(state.answers).length;
    // update opener counts by dispatch (if opener window listens) — not necessary
  }

  function renderQuestion(){
    const sec = state.sections[state.currentSectionIdx];
    const list = QUESTIONS[sec];
    if(!list || list.length===0) return;
    const q = list[state.indexInSection];
    el('qHeader').innerText = \`Section: \${sec} — Q\${q.id}\`;
    el('qText').innerText = q.q;
    const opts = el('options'); opts.innerHTML='';
    const key = sec+'-'+q.id;
    q.options.forEach(opt=>{
      const div = document.createElement('div'); div.className='opt';
      const radio = document.createElement('input'); radio.type='radio';
      // option letter inference: options array like "A. Text" or "Text"
      // We'll compute letter by index
      const idx = q.options.indexOf(opt);
      const letter = ['A','B','C','D'][idx] || 'A';
      radio.name='opt';
      radio.checked = (state.answers[key] && state.answers[key]===letter);
      radio.onchange = (e)=>{ state.answers[key]=letter; state.skipped[key]=false; buildGrid(); updateCounts(); };
      const span = document.createElement('span'); span.innerText = opt;
      div.appendChild(radio); div.appendChild(span);
      div.onclick = ()=>{ state.answers[key]=letter; state.skipped[key]=false; buildGrid(); updateCounts(); renderQuestion(); };
      opts.appendChild(div);
    });
    // highlight previously selected option visually
    highlightSelected();
  }

  function highlightSelected(){
    const sec = state.sections[state.currentSectionIdx];
    const list = QUESTIONS[sec];
    const q = list[state.indexInSection];
    const key = sec+'-'+q.id;
    const optDivs = Array.from(document.querySelectorAll('.opt'));
    optDivs.forEach((div, i)=>{
      div.classList.remove('correct','wrong');
      const letter = ['A','B','C','D'][i];
      if(state.answers[key] && state.answers[key]===letter){
        // visually selected — add slight background
        div.style.borderColor = '#cfe8ff';
        div.style.background = '#f6fbff';
      } else {
        div.style.borderColor = '#e6eef8';
        div.style.background = '#fff';
      }
    });
  }

  function startTimer(){
    el('timerBox').innerText = formatTime(state.timer);
    state.timerInt = setInterval(()=>{
      state.timer--;
      if(state.timer<=0){ clearInterval(state.timerInt); onSubmit(); return; }
      el('timerBox').innerText = formatTime(state.timer);
    },1000);
  }
  function formatTime(s){const mm=String(Math.floor(s/60)).padStart(2,'0'); const ss=String(s%60).padStart(2,'0'); return mm+':'+ss; }

  function attachHandlers(){
    el('saveNext').onclick = ()=>{
      const sec = state.sections[state.currentSectionIdx];
      const q = QUESTIONS[sec][state.indexInSection];
      const key = sec+'-'+q.id;
      if(!state.answers[key]) state.skipped[key]=true;
      else state.skipped[key]=false;
      // advance
      if(state.indexInSection < QUESTIONS[sec].length -1) state.indexInSection++;
      else {
        if(state.currentSectionIdx < state.sections.length -1){ state.currentSectionIdx++; state.indexInSection = 0; }
        else { /* stay at last */ }
      }
      renderQuestion();
      buildGrid();
    };
    el('prev').onclick = ()=>{
      if(state.indexInSection > 0){ state.indexInSection--; renderQuestion(); }
      else if(state.currentSectionIdx > 0){ state.currentSectionIdx--; const sec = state.sections[state.currentSectionIdx]; state.indexInSection = QUESTIONS[sec].length-1; renderQuestion(); }
    };
    el('mark').onclick = ()=>{
      const sec = state.sections[state.currentSectionIdx];
      const q = QUESTIONS[sec][state.indexInSection];
      const key = sec+'-'+q.id;
      state.marked[key]=true;
      // move next
      if(state.indexInSection < QUESTIONS[sec].length -1) state.indexInSection++;
      else if(state.currentSectionIdx < state.sections.length -1){ state.currentSectionIdx++; state.indexInSection = 0; }
      buildGrid(); renderQuestion();
    };
    el('clear').onclick = ()=>{
      const sec = state.sections[state.currentSectionIdx];
      const q = QUESTIONS[sec][state.indexInSection];
      const key = sec+'-'+q.id;
      delete state.answers[key];
      state.skipped[key]=true;
      buildGrid(); renderQuestion();
    };

    el('pasteKey').onclick = ()=> {
      const txt = prompt('Paste answer key JSON (e.g. {\"1\":\"C\",\"2\":\"B\",\"90\":\"D\"}). Question numbers must be numeric (1–100).');
      if(!txt) return;
      try{
        const obj = JSON.parse(txt);
        state.answerKey = {};
        // normalize keys to numbers
        for(const k in obj){
          const num = parseInt(k,10);
          const v = String(obj[k]).trim().toUpperCase();
          if(num && ['A','B','C','D'].includes(v)) state.answerKey[num]=v;
        }
        alert('Answer key saved. Submissions will be auto-graded.');
      }catch(e){ alert('Invalid JSON'); }
    };

    el('submitBtn').onclick = ()=> { if(confirm('Submit test now?')) onSubmit(); };

    el('fullscreenToggle').onclick = ()=> {
      if(!document.fullscreenElement){
        document.documentElement.requestFullscreen().then(()=>{ el('fullscreenToggle').innerText = 'Exit Full Screen'; }).catch(()=>{});
      } else {
        document.exitFullscreen().then(()=>{ el('fullscreenToggle').innerText = 'Enter Full Screen'; }).catch(()=>{});
      }
    };

    el('reviewModeBtn').onclick = ()=> { showReview(); };
  }

  function onSubmit(){
    clearInterval(state.timerInt);
    // compute section-wise stats
    const sectionResults = {};
    state.sections.forEach(sec=>{
      const list = QUESTIONS[sec];
      let right=0, wrong=0, unans=0;
      list.forEach(q=>{
        const key = sec+'-'+q.id;
        const chosen = state.answers[key];
        if(!chosen){ unans++; }
        else {
          const correctLetter = state.answerKey[q.id]; // user-provided key
          if(correctLetter){
            if(chosen === correctLetter) right++;
            else wrong++;
          } else {
            // no key for this question — can't judge; treat as attempted but not marked (unscored)
            // We'll count as attempted but not increment right/wrong
          }
        }
      });
      const marks = (right * 2) - (wrong * 0.5);
      sectionResults[sec] = { total: list.length, right, wrong, unans, marks, attempted: list.length - unans };
    });

    // build results UI
    const rarea = el('resultsArea'); rarea.style.display='block';
    let html = '<div class="results"><h2>Results</h2>';
    html += '<table><thead><tr><th>Section</th><th>Total</th><th>Attempted</th><th>Right</th><th>Wrong</th><th>Unanswered</th><th>Marks</th></tr></thead><tbody>';
    let totalMarks=0;
    for(const sec of state.sections){
      const s = sectionResults[sec];
      html += \`<tr><td style="font-weight:800;color:#153d7a">\${sec}</td><td>\${s.total}</td><td>\${s.attempted}</td><td>\${s.right}</td><td>\${s.wrong}</td><td>\${s.unans}</td><td>\${s.marks}</td></tr>\`;
      totalMarks += s.marks;
    }
    html += '</tbody></table>';
    html += \`<div style="margin-top:10px;font-weight:900">Total Marks (scored using provided key): \${totalMarks}</div>\`;
    html += '<div style="margin-top:12px"><button id="reviewBtn" class="btn">Review Your Answers</button> <button id="closeBtn" class="btn ghost">Close Results</button></div>';
    html += '</div>';
    rarea.innerHTML = html;

    document.getElementById('reviewBtn').onclick = ()=>{ showReview(true); };
    document.getElementById('closeBtn').onclick = ()=>{ rarea.style.display='none'; };
    // highlight correct/wrong in UI (if key provided)
    applyKeyHighlights();
  }

  function applyKeyHighlights(){
    // When key exists, highlight options in current view
    const sec = state.sections[state.currentSectionIdx];
    const list = QUESTIONS[sec];
    const q = list[state.indexInSection];
    const key = sec+'-'+q.id;
    const correct = state.answerKey[q.id];
    const optDivs = Array.from(document.querySelectorAll('.opt'));
    optDivs.forEach((d,i)=>{
      d.classList.remove('correct','wrong');
      const letter = ['A','B','C','D'][i];
      if(correct && letter===correct) d.classList.add('correct');
      if(state.answers[key] && letter===state.answers[key] && correct && letter!==correct) d.classList.add('wrong');
    });
  }

  function showReview(openResults=false){
    // display the whole paper with chosen answers and correct answers if provided
    // We'll iterate sections & questions and show what user selected + correct marker
    const container = el('resultsArea');
    container.style.display='block';
    let html = '<div class="results"><h2>Review: Your Answers</h2>';
    for(const sec of state.sections){
      html += \`<h3 style="color:#153d7a">\${sec}</h3>\`;
      html += '<table><thead><tr><th>Q.No</th><th>Question</th><th>Your answer</th><th>Correct answer</th></tr></thead><tbody>';
      for(const q of QUESTIONS[sec]){
        const key = sec+'-'+q.id;
        const chosen = state.answers[key] || '<em>Unanswered</em>';
        const chosenText = (chosen && chosen.match(/[A-D]/)) ? chosen : chosen;
        const correct = state.answerKey[q.id] || '<em>Not provided</em>';
        html += \`<tr><td>\${q.id}</td><td>\${q.q}</td><td>\${chosenText}</td><td>\${correct}</td></tr>\`;
      }
      html += '</tbody></table>';
    }
    html += '<div style="margin-top:12px"><button id="closeReview" class="btn ghost">Close Review</button></div>';
    html += '</div>';
    container.innerHTML = html;
    document.getElementById('closeReview').onclick = ()=>{ container.style.display='none'; };
  }

  // initial call
  init();
</script>
</body>
</html>
  `;
}

/* Paste Answer Key handler on opener page (not inside new window) */
document.getElementById('pasteKeyBtn').onclick = function(){
  const txt = prompt('Paste answer key JSON here (for the popup exam), e.g. {"1":"C","2":"B",...}:');
  if(!txt) return;
  try{
    const obj = JSON.parse(txt);
    // Save to localStorage so popup can read (when opened it reads from opener via window.opener? Not reliable cross-origin)
    // We'll store so you can re-open window and paste the same key there.
    localStorage.setItem('ssc_answer_key', JSON.stringify(obj));
    alert('Answer key saved to localStorage. When you open the exam window, you can paste/enter the same key there (Paste Answer Key button).');
  }catch(e){ alert('Invalid JSON'); }
};

/* Start exam window when user clicks Start Exam */
document.getElementById('openExamBtn').onclick = openExamWindow;

/* Fullscreen main page toggle (for landing page) */
document.getElementById('fullscreenBtn').onclick = function(){
  if(!document.fullscreenElement){ document.documentElement.requestFullscreen().catch(()=>{}); this.innerText='Exit Full Screen'; }
  else { document.exitFullscreen().catch(()=>{}); this.innerText='Full Screen'; }
};

</script>
</body>
</html>
